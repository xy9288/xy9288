(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-392de322"],{"01ff":function(t,a,e){"use strict";e.d(a,"b",(function(){return n})),e.d(a,"a",(function(){return s}));e("b0c0");var n={javascript:{name:"JavaScript",editor:"javascript",default:"/**\n* 数据处理JavaScript脚本,方法名transform不可修改\n* 参数: data Object 源数据\n* 返回值: data Object 目标数据\n*/\nfunction transform(data) {\n    // do somethings \n    return data;\n}"},groovy:{name:"Groovy",editor:"java",default:"/**\n* 数据处理Groovy脚本,方法名transform不可修改\n* 参数: data Object 源数据\n* 返回值: data Object 目标数据\n*/\ndef transform(data) {\n    // do somethings \n    return data;\n}"}};function r(){var t=[];for(var a in n)t.push({name:n[a].name,value:a});return t}var s=r()},df06:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("page-header-wrapper",{attrs:{breadcrumb:!1}},[e("a-card",{staticStyle:{"margin-bottom":"15px"},attrs:{"body-style":{paddingBottom:0},bordered:!1}},[e("div",{staticClass:"table-page-search-wrapper"},[e("a-form",{attrs:{layout:"inline"}},[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{md:6,sm:24}},[e("a-form-item",{attrs:{label:"脚本名称"}},[e("a-input",{attrs:{placeholder:"请输入脚本名称"},model:{value:t.queryParam.scriptName,callback:function(a){t.$set(t.queryParam,"scriptName",a)},expression:"queryParam.scriptName"}})],1)],1),e("a-col",{attrs:{md:6,sm:24}},[e("a-form-item",{attrs:{label:"脚本语言"}},[e("a-select",{attrs:{placeholder:"请选择脚本语言"},model:{value:t.queryParam.scriptLanguage,callback:function(a){t.$set(t.queryParam,"scriptLanguage",a)},expression:"queryParam.scriptLanguage"}},t._l(t.scriptLanguageList,(function(a,n){return e("a-select-option",{key:n,attrs:{value:a.value}},[t._v(t._s(a.name))])})),1)],1)],1),e("a-col",{attrs:{md:8,sm:24}},[e("a-button",{attrs:{type:"primary"},on:{click:t.loadData}},[t._v("查询")]),e("a-button",{staticStyle:{"margin-left":"8px"},on:{click:t.reset}},[t._v("重置")])],1),e("a-col",{staticStyle:{"text-align":"right"},attrs:{md:4,sm:24}},[e("a-dropdown",[e("a-menu",{attrs:{slot:"overlay"},on:{click:t.handleAdd},slot:"overlay"},t._l(t.scriptLanguageList,(function(a){return e("a-menu-item",{key:a.value},[t._v(" "+t._s(a.name)+"脚本")])})),1),e("a-button",{attrs:{type:"primary"}},[t._v(" 新建脚本 "),e("a-icon",{attrs:{type:"down"}})],1)],1)],1)],1)],1)],1)]),e("a-card",{attrs:{"body-style":{minHeight:"500px"},bordered:!1}},[e("a-table",{ref:"table",attrs:{rowKey:"scriptId",columns:t.columns,"data-source":t.dataSource,pagination:!1,loading:t.loading},scopedSlots:t._u([{key:"serial",fn:function(a,n,r){return e("span",{},[t._v(" "+t._s(r+1)+" ")])}},{key:"scriptLanguage",fn:function(a,n,r){return e("span",{},[t._v(" "+t._s(t.scriptLanguageMap[a].name)+" ")])}},{key:"description",fn:function(a,n,r){return e("span",{},[t._v(" "+t._s(a||"-")+" ")])}},{key:"action",fn:function(a,n){return e("span",{},[[e("a",{on:{click:function(a){return t.handleEdit(n)}}},[t._v("编辑")]),e("a-divider",{attrs:{type:"vertical"}}),t.dataSource.length?e("a-popconfirm",{attrs:{title:"删除此脚本?"},on:{confirm:function(){return t.handleDelete(n)}}},[e("a",{attrs:{href:"javascript:;"}},[t._v("删除")])]):t._e()]],2)}}])})],1)],1)},r=[],s=e("0fea"),i=e("01ff"),o={name:"ScriptList",components:{},data:function(){return{scriptLanguageMap:i["b"],scriptLanguageList:i["a"],columns:[{title:"脚本名称",dataIndex:"scriptName"},{title:"脚本语言",dataIndex:"scriptLanguage",scopedSlots:{customRender:"scriptLanguage"}},{title:"说明",dataIndex:"description",scopedSlots:{customRender:"description"}},{title:"最后修改",dataIndex:"updateTime"},{title:"操作",dataIndex:"action",width:"150px",scopedSlots:{customRender:"action"}}],dataSource:[],loading:!0,queryParam:{}}},mounted:function(){this.loadData()},methods:{loadData:function(){var t=this;this.loading=!0,Object(s["c"])("/api/script/list",this.queryParam).then((function(a){t.dataSource=a.data,t.loading=!1}))},handleDelete:function(t){var a=this;Object(s["c"])("/api/script/remove",{scriptId:t.scriptId}).then((function(t){200===t.code?(a.$message.success("删除成功"),a.loadData()):a.$message.error("删除失败")}))},handleAdd:function(t){this.$router.push({path:"/script/info/new-"+t.key})},handleEdit:function(t){this.$router.push({path:"/script/info/"+t.scriptId})},reset:function(){this.queryParam={},this.loadData()}}},c=o,d=e("2877"),u=Object(d["a"])(c,n,r,!1,null,null,null);a["default"]=u.exports}}]);