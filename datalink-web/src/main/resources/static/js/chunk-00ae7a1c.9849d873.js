(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00ae7a1c"],{"56fc":function(e,r,t){"use strict";t.d(r,"c",(function(){return l})),t.d(r,"b",(function(){return c})),t.d(r,"a",(function(){return u}));var a=t("b85c"),o=(t("99af"),t("b0c0"),t("995a")),s="all",i="source",p={MQTT:{name:"MQTT Broker",type:s,details:{resource:{name:"资源地址",format:function(e){return e.properties.url}},rule:[{name:"资源地址",format:function(e){return e.properties.url}},{name:"Topic",format:function(e){return e.properties.topic}}]}},KAFKA:{name:"Kafka",type:s,details:{resource:{name:"资源地址",format:function(e){return"".concat(e.properties.url)}},rule:[{name:"资源地址",format:function(e){return"".concat(e.properties.url)}},{name:"Topic",format:function(e){return e.properties.topic}}]}},MYSQL:{name:"MySQL",type:s,details:{resource:{name:"资源地址",format:function(e){return"".concat(e.properties.ip,":").concat(e.properties.port,"/").concat(e.properties.databaseName)}},rule:[{name:"资源地址",format:function(e){return"".concat(e.properties.ip,":").concat(e.properties.port,"/").concat(e.properties.databaseName)}},{name:"SQL模板",format:function(e){return e.properties.sql}},{name:"启动延迟",format:function(e){return e.properties.initialDelay?"".concat(e.properties.initialDelay).concat(o["b"][e.properties.timeUnit]):void 0}},{name:"查询频率",format:function(e){return e.properties.period?"".concat(e.properties.period).concat(o["b"][e.properties.timeUnit]):void 0}}]}},POSTGRESQL:{name:"PostgreSQL",type:s,details:{resource:{name:"资源地址",format:function(e){return"".concat(e.properties.ip,":").concat(e.properties.port,"/").concat(e.properties.databaseName)}},rule:[{name:"资源地址",format:function(e){return"".concat(e.properties.ip,":").concat(e.properties.port,"/").concat(e.properties.databaseName)}},{name:"SQL模板",format:function(e){return e.properties.sql}},{name:"启动延迟",format:function(e){return e.properties.initialDelay?"".concat(e.properties.initialDelay).concat(o["b"][e.properties.timeUnit]):void 0}},{name:"查询频率",format:function(e){return e.properties.period?"".concat(e.properties.period).concat(o["b"][e.properties.timeUnit]):void 0}}]}},SQLSERVER:{name:"SQL Server",type:s,details:{resource:{name:"资源地址",format:function(e){return"".concat(e.properties.ip,":").concat(e.properties.port,"/").concat(e.properties.databaseName)}},rule:[{name:"资源地址",format:function(e){return"".concat(e.properties.ip,":").concat(e.properties.port,"/").concat(e.properties.databaseName)}},{name:"SQL模板",format:function(e){return e.properties.sql}},{name:"启动延迟",format:function(e){return e.properties.initialDelay?"".concat(e.properties.initialDelay).concat(o["b"][e.properties.timeUnit]):void 0}},{name:"查询频率",format:function(e){return e.properties.period?"".concat(e.properties.period).concat(o["b"][e.properties.timeUnit]):void 0}}]}},TDENGINE:{name:"TDengine",type:s,details:{resource:{name:"资源地址",format:function(e){return"".concat(e.properties.ip,":").concat(e.properties.port,"/").concat(e.properties.databaseName)}},rule:[{name:"资源地址",format:function(e){return"".concat(e.properties.ip,":").concat(e.properties.port,"/").concat(e.properties.databaseName)}},{name:"SQL模板",format:function(e){return e.properties.sql}},{name:"启动延迟",format:function(e){return e.properties.initialDelay?"".concat(e.properties.initialDelay).concat(o["b"][e.properties.timeUnit]):void 0}},{name:"查询频率",format:function(e){return e.properties.period?"".concat(e.properties.period).concat(o["b"][e.properties.timeUnit]):void 0}}]}},HTTP:{name:"HTTP",type:s,details:{resource:{name:"资源地址",format:function(e){return"".concat(e.properties.url)}},rule:[{name:"请求路径",format:function(e){return"".concat(e.properties.url).concat(e.properties.path)}},{name:"请求方式",format:function(e){return"".concat(e.properties.method)}},{name:"启动延迟",format:function(e){return e.properties.initialDelay?"".concat(e.properties.initialDelay).concat(o["b"][e.properties.timeUnit]):void 0}},{name:"调用频率",format:function(e){return e.properties.period?"".concat(e.properties.period).concat(o["b"][e.properties.timeUnit]):void 0}}]}},OPCUA:{name:"OPC UA",type:i,details:{resource:{name:"资源地址",format:function(e){return"".concat(e.properties.url)}},rule:[{name:"资源地址",format:function(e){return"".concat(e.properties.url)}},{name:"读取点位",format:function(e){return"".concat(e.properties.points?e.properties.points.length:0)}}]}},REDIS:{name:"Redis",type:s,details:{resource:{name:"资源地址",format:function(e){return"STANDALONE"===e.properties.mode?"".concat(e.properties.ip,":").concat(e.properties.port):"".concat(e.properties.nodes)}},rule:[{name:"资源地址",format:function(e){return"STANDALONE"===e.properties.mode?"".concat(e.properties.ip,":").concat(e.properties.port):"".concat(e.properties.nodes)}},{name:"执行命令",format:function(e){return"".concat(e.properties.command)}},{name:"启动延迟",format:function(e){return e.properties.initialDelay?"".concat(e.properties.initialDelay).concat(o["b"][e.properties.timeUnit]):void 0}},{name:"调用频率",format:function(e){return e.properties.period?"".concat(e.properties.period).concat(o["b"][e.properties.timeUnit]):void 0}}]}}};function n(){var e={};for(var r in p)e[r]=p[r].name;return e}var l=n();function c(e){var r=[];for(var t in p){var a=p[t].type;if(!e||a===s||a===e){var o={name:p[t].name,code:t,type:a};r.push(o)}}return r}function u(e,r){if(!e||!e.resourceType)return"resource"===r?{name:"",value:""}:[{name:"",value:""}];var t=p[e.resourceType],o=t.details[r];if("resource"===r){var s=o.format(e);return s?{name:o.name,value:s}:{name:"",value:""}}var i,n=[],l=Object(a["a"])(o);try{for(l.s();!(i=l.n()).done;){var c=i.value,u=c.format(e);u&&n.push({name:c.name,value:u})}}catch(m){l.e(m)}finally{l.f()}return n}},"995a":function(e,r,t){"use strict";t.d(r,"b",(function(){return a})),t.d(r,"a",(function(){return s}));var a={SECONDS:"秒",MINUTES:"分",HOURS:"时",DAYS:"天"};function o(){var e=[];for(var r in a)e.push({name:a[r],value:r});return e}var s=o()},b85c:function(e,r,t){"use strict";t.d(r,"a",(function(){return o}));t("a4d3"),t("e01a"),t("d3b7"),t("d28b"),t("3ca3"),t("ddb0");var a=t("06c5");function o(e,r){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Object(a["a"])(e))||r&&e&&"number"===typeof e.length){t&&(e=t);var o=0,s=function(){};return{s:s,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,p=!0,n=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return p=e.done,e},e:function(e){n=!0,i=e},f:function(){try{p||null==t["return"]||t["return"]()}finally{if(n)throw i}}}}},cb99:function(e,r,t){"use strict";t.r(r);t("b0c0");var a=function(){var e=this,r=e._self._c;return r("page-header-wrapper",{attrs:{breadcrumb:!1}},[r("a-card",{staticStyle:{"margin-bottom":"15px"},attrs:{"body-style":{paddingBottom:0},bordered:!1}},[r("div",{staticClass:"table-page-search-wrapper"},[r("a-form",{attrs:{layout:"inline"}},[r("a-row",{attrs:{gutter:24}},[r("a-col",{attrs:{md:7,sm:24}},[r("a-form-item",{attrs:{label:"资源名称"}},[r("a-input",{attrs:{placeholder:"请输入资源名称"},model:{value:e.queryParam.resourceName,callback:function(r){e.$set(e.queryParam,"resourceName",r)},expression:"queryParam.resourceName"}})],1)],1),r("a-col",{attrs:{md:14,sm:24}},[r("a-button",{attrs:{type:"primary"},on:{click:e.loadData}},[e._v("查询")]),r("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.reset}},[e._v("重置")])],1),r("a-col",{staticStyle:{"text-align":"right"},attrs:{md:3,sm:24}},[r("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(r){return e.handleAdd()}}},[e._v("新建资源")])],1)],1)],1)],1)]),r("a-card",{attrs:{"body-style":{minHeight:"500px"},bordered:!1}},[r("a-list",{attrs:{grid:{gutter:24,lg:4,md:2,sm:1,xs:1},loading:e.loading,"data-source":e.data},scopedSlots:e._u([{key:"renderItem",fn:function(t){return r("a-list-item",{},[r("a-card",[r("div",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.resourceName))]),r("a-row",[r("a-col",{attrs:{span:7}},[r("div",[e._v("资源类型：")])]),r("a-col",{attrs:{span:12}},[r("div",[e._v(e._s(e.resourceTypeMap[t.resourceType]))])])],1),r("a-row",[r("a-col",{attrs:{span:7}},[r("div",[e._v(e._s(e.getDetails(t).name)+"：")])]),r("a-col",{attrs:{span:12}},[r("div",[e._v(e._s(e.getDetails(t).value))])])],1),r("a",{attrs:{slot:"actions"},on:{click:function(r){return e.handleEdit(t)}},slot:"actions"},[e._v("编辑")]),r("a-popconfirm",{attrs:{slot:"actions",title:"确定删除此资源?"},on:{confirm:function(){return e.handleDelete(t)}},slot:"actions"},[r("a",{attrs:{href:"javascript:;"}},[e._v("删除")])])],1)],1)}}])}),r("resource-model",{ref:"ResourceModel",on:{ok:e.loadData}})],1)],1)},o=[],s=t("0fea"),i=(t("a4d3"),t("e01a"),function(){var e=this,r=e._self._c;return r("a-drawer",{attrs:{confirmLoading:e.confirmLoading,title:"资源",width:720,visible:e.visible,destroyOnClose:!0,"body-style":{paddingBottom:"80px"}},on:{close:e.onClose}},[r("a-form-model",{ref:"ruleForm",attrs:{model:e.modal,layout:"vertical",rules:e.rules}},[r("a-row",{attrs:{gutter:24}},[r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"资源类型",prop:"resourceType"}},[r("a-select",{attrs:{placeholder:"请选择资源类型"},model:{value:e.modal.resourceType,callback:function(r){e.$set(e.modal,"resourceType",r)},expression:"modal.resourceType"}},e._l(e.resourceTypeList,(function(t,a){return r("a-select-option",{key:a,attrs:{value:t.code}},[e._v(e._s(t.name)+" ")])})),1)],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"资源名称",prop:"resourceName"}},[r("a-input",{attrs:{placeholder:"请输入资源名称"},model:{value:e.modal.resourceName,callback:function(r){e.$set(e.modal,"resourceName",r)},expression:"modal.resourceName"}})],1)],1)],1),"MQTT"===e.modal.resourceType?r("mqtt-properties",{ref:"PropertiesModal"}):e._e(),"KAFKA"===e.modal.resourceType?r("kafka-properties",{ref:"PropertiesModal"}):e._e(),"MYSQL"===e.modal.resourceType?r("mysql-properties",{ref:"PropertiesModal"}):e._e(),"POSTGRESQL"===e.modal.resourceType?r("postgresql-properties",{ref:"PropertiesModal"}):e._e(),"HTTP"===e.modal.resourceType?r("http-properties",{ref:"PropertiesModal"}):e._e(),"TDENGINE"===e.modal.resourceType?r("t-dengine-properties",{ref:"PropertiesModal"}):e._e(),"SQLSERVER"===e.modal.resourceType?r("sqlserver-properties",{ref:"PropertiesModal"}):e._e(),"OPCUA"===e.modal.resourceType?r("opc-u-a-properties",{ref:"PropertiesModal"}):e._e(),"REDIS"===e.modal.resourceType?r("redis-properties",{ref:"PropertiesModal"}):e._e(),r("a-form-model-item",{attrs:{label:"备注",prop:"description"}},[r("a-textarea",{attrs:{rows:4,placeholder:"请输入备注"},model:{value:e.modal.description,callback:function(r){e.$set(e.modal,"description",r)},expression:"modal.description"}})],1)],1),r("div",{style:{position:"absolute",right:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right",zIndex:1}},[r("a-button",{style:{marginRight:"10px",width:"110px"},on:{click:e.testDriver}},[e._v(" 测试连接")]),r("a-button",{style:{marginRight:"10px",width:"110px"},on:{click:e.onClose}},[e._v(" 取消")]),r("a-button",{style:{width:"110px"},attrs:{type:"primary"},on:{click:e.handleOk}},[e._v(" 保存")])],1)],1)}),p=[],n=(t("d3b7"),t("ac1f"),t("56fc")),l=function(){var e=this,r=e._self._c;return r("a-form-model",{ref:"propForm",attrs:{layout:"vertical",model:e.properties,rules:e.rules}},[r("a-row",{attrs:{gutter:24}},[r("a-col",{attrs:{span:24}},[r("a-form-model-item",{attrs:{label:"URL",prop:"url"}},[r("a-input",{attrs:{placeholder:"请输入URL"},model:{value:e.properties.url,callback:function(r){e.$set(e.properties,"url",r)},expression:"properties.url"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"账户"}},[r("a-input",{attrs:{placeholder:"请输入账户"},model:{value:e.properties.username,callback:function(r){e.$set(e.properties,"username",r)},expression:"properties.username"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"密码"}},[r("a-input-password",{attrs:{placeholder:"请输入密码"},model:{value:e.properties.password,callback:function(r){e.$set(e.properties,"password",r)},expression:"properties.password"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"连接超时"}},[r("a-input",{attrs:{placeholder:"请输入连接超时"},model:{value:e.properties.connectionTimeout,callback:function(r){e.$set(e.properties,"connectionTimeout",r)},expression:"properties.connectionTimeout"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"保活间隔"}},[r("a-input",{attrs:{placeholder:"请输入保活间隔"},model:{value:e.properties.keepAliveInterval,callback:function(r){e.$set(e.properties,"keepAliveInterval",r)},expression:"properties.keepAliveInterval"}})],1)],1)],1)],1)},c=[],u={data:function(){return{properties:{url:"tcp://127.0.0.1:1883",connectionTimeout:10,keepAliveInterval:30},rules:{url:[{required:!0,message:"请输入URL",trigger:"blur"}]}}},methods:{set:function(e){this.properties=Object.assign({},this.properties,e)},get:function(e){var r=this;this.$refs.propForm.validate((function(t){return t?e(!0,r.properties):e(!1)}))}}},m=u,d=t("2877"),f=Object(d["a"])(m,l,c,!1,null,"c7375e30",null),b=f.exports,v=function(){var e=this,r=e._self._c;return r("a-form-model",{ref:"propForm",attrs:{layout:"vertical",model:e.properties,rules:e.rules}},[r("a-row",{attrs:{gutter:24}},[r("a-col",{attrs:{span:24}},[r("a-form-model-item",{attrs:{label:"URL",prop:"url"}},[r("a-input",{attrs:{placeholder:"请输入URL"},model:{value:e.properties.url,callback:function(r){e.$set(e.properties,"url",r)},expression:"properties.url"}})],1)],1)],1)],1)},h=[],g={data:function(){return{properties:{},rules:{url:[{required:!0,message:"请输入URL",trigger:"blur"}]}}},methods:{set:function(e){this.properties=e},get:function(e){var r=this;this.$refs.propForm.validate((function(t){return t?e(!0,r.properties):e(!1)}))}}},x=g,y=Object(d["a"])(x,v,h,!1,null,"79b13e62",null),k=y.exports,T=function(){var e=this,r=e._self._c;return r("a-form-model",{ref:"propForm",attrs:{layout:"vertical",model:e.properties,rules:e.rules}},[r("a-row",{attrs:{gutter:24}},[r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"IP",prop:"ip"}},[r("a-input",{attrs:{placeholder:"请输入IP"},model:{value:e.properties.ip,callback:function(r){e.$set(e.properties,"ip",r)},expression:"properties.ip"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"端口",prop:"port"}},[r("a-input",{attrs:{placeholder:"请输入端口"},model:{value:e.properties.port,callback:function(r){e.$set(e.properties,"port",r)},expression:"properties.port"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"账户",prop:"username"}},[r("a-input",{attrs:{placeholder:"请输入账户"},model:{value:e.properties.username,callback:function(r){e.$set(e.properties,"username",r)},expression:"properties.username"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"密码",prop:"password"}},[r("a-input-password",{attrs:{placeholder:"请输入密码"},model:{value:e.properties.password,callback:function(r){e.$set(e.properties,"password",r)},expression:"properties.password"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"数据库名称",prop:"databaseName"}},[r("a-input",{attrs:{placeholder:"请输入数据库名称"},model:{value:e.properties.databaseName,callback:function(r){e.$set(e.properties,"databaseName",r)},expression:"properties.databaseName"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"连接数初始大小"}},[r("a-input",{attrs:{placeholder:"请输入连接数初始大小"},model:{value:e.properties.initSize,callback:function(r){e.$set(e.properties,"initSize",r)},expression:"properties.initSize"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"连接数下限"}},[r("a-input",{attrs:{placeholder:"请输入连接池下限"},model:{value:e.properties.minIdle,callback:function(r){e.$set(e.properties,"minIdle",r)},expression:"properties.minIdle"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"连接数上限"}},[r("a-input",{attrs:{placeholder:"请输入连接数上限"},model:{value:e.properties.maxActive,callback:function(r){e.$set(e.properties,"maxActive",r)},expression:"properties.maxActive"}})],1)],1)],1)],1)},$=[],N={data:function(){return{properties:{ip:"127.0.0.1",port:"3306",initSize:8,minIdle:1,maxActive:20},rules:{ip:[{required:!0,message:"请输入IP",trigger:"blur"}],port:[{required:!0,message:"请输入端口",trigger:"blur"}],username:[{required:!0,message:"请输入账户",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],databaseName:[{required:!0,message:"请输入数据库名称",trigger:"blur"}]}}},methods:{set:function(e){this.properties=Object.assign({},this.properties,e)},get:function(e){var r=this;this.$refs.propForm.validate((function(t){return t?e(!0,r.properties):e(!1)}))}}},S=N,w=Object(d["a"])(S,T,$,!1,null,"b94973a8",null),_=w.exports,I=function(){var e=this,r=e._self._c;return r("a-form-model",{ref:"propForm",attrs:{layout:"vertical",model:e.properties,rules:e.rules}},[r("a-row",{attrs:{gutter:24}},[r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"IP",prop:"ip"}},[r("a-input",{attrs:{placeholder:"请输入IP"},model:{value:e.properties.ip,callback:function(r){e.$set(e.properties,"ip",r)},expression:"properties.ip"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"端口",prop:"port"}},[r("a-input",{attrs:{placeholder:"请输入端口"},model:{value:e.properties.port,callback:function(r){e.$set(e.properties,"port",r)},expression:"properties.port"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"账户",prop:"username"}},[r("a-input",{attrs:{placeholder:"请输入账户"},model:{value:e.properties.username,callback:function(r){e.$set(e.properties,"username",r)},expression:"properties.username"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"密码",prop:"password"}},[r("a-input-password",{attrs:{placeholder:"请输入密码"},model:{value:e.properties.password,callback:function(r){e.$set(e.properties,"password",r)},expression:"properties.password"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"数据库名称",prop:"databaseName"}},[r("a-input",{attrs:{placeholder:"请输入数据库名称"},model:{value:e.properties.databaseName,callback:function(r){e.$set(e.properties,"databaseName",r)},expression:"properties.databaseName"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"连接数初始大小"}},[r("a-input",{attrs:{placeholder:"请输入连接数初始大小"},model:{value:e.properties.initSize,callback:function(r){e.$set(e.properties,"initSize",r)},expression:"properties.initSize"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"连接数下限"}},[r("a-input",{attrs:{placeholder:"请输入连接池下限"},model:{value:e.properties.minIdle,callback:function(r){e.$set(e.properties,"minIdle",r)},expression:"properties.minIdle"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"连接数上限"}},[r("a-input",{attrs:{placeholder:"请输入连接数上限"},model:{value:e.properties.maxActive,callback:function(r){e.$set(e.properties,"maxActive",r)},expression:"properties.maxActive"}})],1)],1)],1)],1)},L=[],O={data:function(){return{properties:{ip:"127.0.0.1",port:"5432",initSize:8,minIdle:1,maxActive:20},rules:{ip:[{required:!0,message:"请输入IP",trigger:"blur"}],port:[{required:!0,message:"请输入端口",trigger:"blur"}],username:[{required:!0,message:"请输入账户",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],databaseName:[{required:!0,message:"请输入数据库名称",trigger:"blur"}]}}},methods:{set:function(e){this.properties=Object.assign({},this.properties,e)},get:function(e){var r=this;this.$refs.propForm.validate((function(t){return t?e(!0,r.properties):e(!1)}))}}},P=O,q=Object(d["a"])(P,I,L,!1,null,"e91e8cc0",null),A=q.exports,D=function(){var e=this,r=e._self._c;return r("a-form-model",{ref:"propForm",attrs:{layout:"vertical",model:e.properties,rules:e.rules}},[r("a-row",{attrs:{gutter:24}},[r("a-col",{attrs:{span:24}},[r("a-form-model-item",{attrs:{label:"URL",prop:"url"}},[r("a-input",{attrs:{placeholder:"请输入URL"},model:{value:e.properties.url,callback:function(r){e.$set(e.properties,"url",r)},expression:"properties.url"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"连接超时"}},[r("a-input",{attrs:{placeholder:"请输入连接超时"},model:{value:e.properties.connectTimeout,callback:function(r){e.$set(e.properties,"connectTimeout",r)},expression:"properties.connectTimeout"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"读取超时"}},[r("a-input",{attrs:{placeholder:"请输入读取超时"},model:{value:e.properties.readTimeout,callback:function(r){e.$set(e.properties,"readTimeout",r)},expression:"properties.readTimeout"}})],1)],1)],1)],1)},E=[],R={data:function(){return{properties:{connectTimeout:6e3,readTimeout:6e3},rules:{url:[{required:!0,message:"请输入URL",trigger:"blur"}]}}},methods:{set:function(e){this.properties=Object.assign({},this.properties,e)},get:function(e){var r=this;this.$refs.propForm.validate((function(t){return t?e(!0,r.properties):e(!1)}))}}},U=R,j=Object(d["a"])(U,D,E,!1,null,"3705b11c",null),M=j.exports,F=function(){var e=this,r=e._self._c;return r("a-form-model",{ref:"propForm",attrs:{layout:"vertical",model:e.properties,rules:e.rules}},[r("a-row",{attrs:{gutter:24}},[r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"IP",prop:"ip"}},[r("a-input",{attrs:{placeholder:"请输入IP"},model:{value:e.properties.ip,callback:function(r){e.$set(e.properties,"ip",r)},expression:"properties.ip"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"端口",prop:"port"}},[r("a-input",{attrs:{placeholder:"请输入端口"},model:{value:e.properties.port,callback:function(r){e.$set(e.properties,"port",r)},expression:"properties.port"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"账户",prop:"username"}},[r("a-input",{attrs:{placeholder:"请输入账户"},model:{value:e.properties.username,callback:function(r){e.$set(e.properties,"username",r)},expression:"properties.username"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"密码",prop:"password"}},[r("a-input-password",{attrs:{placeholder:"请输入密码"},model:{value:e.properties.password,callback:function(r){e.$set(e.properties,"password",r)},expression:"properties.password"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"数据库名称",prop:"databaseName"}},[r("a-input",{attrs:{placeholder:"请输入数据库名称"},model:{value:e.properties.databaseName,callback:function(r){e.$set(e.properties,"databaseName",r)},expression:"properties.databaseName"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"连接数初始大小"}},[r("a-input",{attrs:{placeholder:"请输入连接数初始大小"},model:{value:e.properties.initSize,callback:function(r){e.$set(e.properties,"initSize",r)},expression:"properties.initSize"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"连接数下限"}},[r("a-input",{attrs:{placeholder:"请输入连接池下限"},model:{value:e.properties.minIdle,callback:function(r){e.$set(e.properties,"minIdle",r)},expression:"properties.minIdle"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"连接数上限"}},[r("a-input",{attrs:{placeholder:"请输入连接数上限"},model:{value:e.properties.maxActive,callback:function(r){e.$set(e.properties,"maxActive",r)},expression:"properties.maxActive"}})],1)],1)],1)],1)},z=[],C={data:function(){return{properties:{ip:"127.0.0.1",port:"6041",initSize:8,minIdle:1,maxActive:20},rules:{ip:[{required:!0,message:"请输入IP",trigger:"blur"}],port:[{required:!0,message:"请输入端口",trigger:"blur"}],username:[{required:!0,message:"请输入账户",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],databaseName:[{required:!0,message:"请输入数据库名称",trigger:"blur"}]}}},methods:{set:function(e){this.properties=Object.assign({},this.properties,e)},get:function(e){var r=this;this.$refs.propForm.validate((function(t){return t?e(!0,r.properties):e(!1)}))}}},Q=C,H=Object(d["a"])(Q,F,z,!1,null,"1ed08705",null),K=H.exports,G=function(){var e=this,r=e._self._c;return r("a-form-model",{ref:"propForm",attrs:{layout:"vertical",model:e.properties,rules:e.rules}},[r("a-row",{attrs:{gutter:24}},[r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"IP",prop:"ip"}},[r("a-input",{attrs:{placeholder:"请输入IP"},model:{value:e.properties.ip,callback:function(r){e.$set(e.properties,"ip",r)},expression:"properties.ip"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"端口",prop:"port"}},[r("a-input",{attrs:{placeholder:"请输入端口"},model:{value:e.properties.port,callback:function(r){e.$set(e.properties,"port",r)},expression:"properties.port"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"账户",prop:"username"}},[r("a-input",{attrs:{placeholder:"请输入账户"},model:{value:e.properties.username,callback:function(r){e.$set(e.properties,"username",r)},expression:"properties.username"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"密码",prop:"password"}},[r("a-input-password",{attrs:{placeholder:"请输入密码"},model:{value:e.properties.password,callback:function(r){e.$set(e.properties,"password",r)},expression:"properties.password"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"数据库名称",prop:"databaseName"}},[r("a-input",{attrs:{placeholder:"请输入数据库名称"},model:{value:e.properties.databaseName,callback:function(r){e.$set(e.properties,"databaseName",r)},expression:"properties.databaseName"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"连接数初始大小"}},[r("a-input",{attrs:{placeholder:"请输入连接数初始大小"},model:{value:e.properties.initSize,callback:function(r){e.$set(e.properties,"initSize",r)},expression:"properties.initSize"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"连接数下限"}},[r("a-input",{attrs:{placeholder:"请输入连接池下限"},model:{value:e.properties.minIdle,callback:function(r){e.$set(e.properties,"minIdle",r)},expression:"properties.minIdle"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"连接数上限"}},[r("a-input",{attrs:{placeholder:"请输入连接数上限"},model:{value:e.properties.maxActive,callback:function(r){e.$set(e.properties,"maxActive",r)},expression:"properties.maxActive"}})],1)],1)],1)],1)},B=[],Y={data:function(){return{properties:{ip:"127.0.0.1",port:"1433",initSize:8,minIdle:1,maxActive:20},rules:{ip:[{required:!0,message:"请输入IP",trigger:"blur"}],port:[{required:!0,message:"请输入端口",trigger:"blur"}],username:[{required:!0,message:"请输入账户",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],databaseName:[{required:!0,message:"请输入数据库名称",trigger:"blur"}]}}},methods:{set:function(e){this.properties=Object.assign({},this.properties,e)},get:function(e){var r=this;this.$refs.propForm.validate((function(t){return t?e(!0,r.properties):e(!1)}))}}},J=Y,V=Object(d["a"])(J,G,B,!1,null,"25f13ec4",null),W=V.exports,X=function(){var e=this,r=e._self._c;return r("a-form-model",{ref:"propForm",attrs:{layout:"vertical",model:e.properties,rules:e.rules}},[r("a-row",{attrs:{gutter:24}},[r("a-col",{attrs:{span:24}},[r("a-form-model-item",{attrs:{label:"URL",prop:"url"}},[r("a-input",{attrs:{placeholder:"请输入URL"},model:{value:e.properties.url,callback:function(r){e.$set(e.properties,"url",r)},expression:"properties.url"}})],1)],1)],1)],1)},Z=[],ee={data:function(){return{properties:{},rules:{url:[{required:!0,message:"请输入URL",trigger:"blur"}]}}},methods:{set:function(e){this.properties=Object.assign({},this.properties,e)},get:function(e){var r=this;this.$refs.propForm.validate((function(t){return t?e(!0,r.properties):e(!1)}))}}},re=ee,te=Object(d["a"])(re,X,Z,!1,null,"47f8510e",null),ae=te.exports,oe=function(){var e=this,r=e._self._c;return r("a-form-model",{ref:"propForm",attrs:{layout:"vertical",model:e.properties,rules:e.rules}},[r("a-row",{attrs:{gutter:24}},[r("a-col",{attrs:{span:"SENTINEL"===e.properties.mode?12:24}},[r("a-form-model-item",{attrs:{label:"模式",prop:"mode"}},[r("a-select",{attrs:{placeholder:"请选择模式"},model:{value:e.properties.mode,callback:function(r){e.$set(e.properties,"mode",r)},expression:"properties.mode"}},[r("a-select-option",{attrs:{value:"STANDALONE"}},[e._v("单节点模式")]),r("a-select-option",{attrs:{value:"CLUSTER"}},[e._v("Cluster模式")]),r("a-select-option",{attrs:{value:"SENTINEL"}},[e._v("Sentinel模式")])],1)],1)],1),"SENTINEL"===e.properties.mode?r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"主节点名称",prop:"masterName"}},[r("a-input",{attrs:{placeholder:"请输入主节点名称"},model:{value:e.properties.masterName,callback:function(r){e.$set(e.properties,"masterName",r)},expression:"properties.masterName"}})],1)],1):e._e(),"CLUSTER"===e.properties.mode||"SENTINEL"===e.properties.mode?r("a-col",{attrs:{span:24}},[r("a-form-model-item",{attrs:{label:"服务节点",prop:"nodes"}},[r("a-input",{attrs:{placeholder:"请输入服务节点"},model:{value:e.properties.nodes,callback:function(r){e.$set(e.properties,"nodes",r)},expression:"properties.nodes"}})],1)],1):e._e(),"STANDALONE"===e.properties.mode?r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"IP",prop:"ip"}},[r("a-input",{attrs:{placeholder:"请输入IP"},model:{value:e.properties.ip,callback:function(r){e.$set(e.properties,"ip",r)},expression:"properties.ip"}})],1)],1):e._e(),"STANDALONE"===e.properties.mode?r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"端口",prop:"port"}},[r("a-input",{attrs:{placeholder:"请输入端口"},model:{value:e.properties.port,callback:function(r){e.$set(e.properties,"port",r)},expression:"properties.port"}})],1)],1):e._e(),"STANDALONE"===e.properties.mode||"SENTINEL"===e.properties.mode?r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"数据库",prop:"database"}},[r("a-input",{attrs:{placeholder:"请输入数据库"},model:{value:e.properties.database,callback:function(r){e.$set(e.properties,"database",r)},expression:"properties.database"}})],1)],1):e._e(),r("a-col",{attrs:{span:"CLUSTER"===e.properties.mode?24:12}},[r("a-form-model-item",{attrs:{label:"密码"}},[r("a-input-password",{attrs:{placeholder:"请输入密码"},model:{value:e.properties.password,callback:function(r){e.$set(e.properties,"password",r)},expression:"properties.password"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"连接池大小"}},[r("a-input",{attrs:{placeholder:"请输入连接池大小"},model:{value:e.properties.maxTotal,callback:function(r){e.$set(e.properties,"maxTotal",r)},expression:"properties.maxTotal"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"连接超时"}},[r("a-input",{attrs:{placeholder:"请输入连接超时"},model:{value:e.properties.timeout,callback:function(r){e.$set(e.properties,"timeout",r)},expression:"properties.timeout"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"最大空闲"}},[r("a-input",{attrs:{placeholder:"请输入最大空闲数"},model:{value:e.properties.maxIdle,callback:function(r){e.$set(e.properties,"maxIdle",r)},expression:"properties.maxIdle"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-model-item",{attrs:{label:"最小空闲"}},[r("a-input",{attrs:{placeholder:"请输入最小空闲数"},model:{value:e.properties.minIdle,callback:function(r){e.$set(e.properties,"minIdle",r)},expression:"properties.minIdle"}})],1)],1)],1)],1)},se=[],ie={data:function(){return{properties:{mode:"STANDALONE",ip:"127.0.0.1",port:"6379",database:0,timeout:6e3,maxIdle:8,minIdle:4,maxTotal:8},rules:{mode:[{required:!0,message:"请选择模式",trigger:"change"}],masterName:[{required:!0,message:"请输主节点名称",trigger:"blur"}],ip:[{required:!0,message:"请输入IP",trigger:"blur"}],port:[{required:!0,message:"请输入端口",trigger:"blur"}],nodes:[{required:!0,message:"请输入服务节点",trigger:"blur"}],database:[{required:!0,message:"请输入数据库",trigger:"blur"}]}}},methods:{set:function(e){this.properties=Object.assign({},this.properties,e)},get:function(e){"STANDALONE"===this.properties.mode&&(delete this.properties.nodes,delete this.properties.masterName),"CLUSTER"===this.properties.mode&&(delete this.properties.ip,delete this.properties.port,delete this.properties.masterName,delete this.properties.database),"SENTINEL"===this.properties.mode&&(delete this.properties.ip,delete this.properties.port);var r=this;this.$refs.propForm.validate((function(t){return t?e(!0,r.properties):e(!1)}))}}},pe=ie,ne=Object(d["a"])(pe,oe,se,!1,null,"3b6de8b2",null),le=ne.exports,ce={name:"ResourceModel",components:{MqttProperties:b,KafkaProperties:k,MysqlProperties:_,PostgresqlProperties:A,HttpProperties:M,TDengineProperties:K,SqlserverProperties:W,OpcUAProperties:ae,RedisProperties:le},data:function(){return{title:"操作",visible:!1,confirmLoading:!1,modal:{},url:{add:"/api/resource/add",update:"/api/resource/update",test:"/api/resource/test"},rules:{resourceType:[{required:!0,message:"请选择资源类型",trigger:"change"}],resourceName:[{required:!0,message:"请输入资源名称",trigger:"blur"}]},resourceTypeList:[]}},mounted:function(){this.resourceTypeList=Object(n["b"])()},methods:{add:function(){this.edit({})},edit:function(e){var r=this;this.modal=Object.assign({},e),this.visible=!0,this.$nextTick((function(){r.modal.resourceType&&r.$refs.PropertiesModal.set(r.modal.properties)}))},onClose:function(){this.visible=!1},handleOk:function(){var e=this,r=this;this.$refs.ruleForm.validate((function(t){if(!t)return!1;e.$refs.PropertiesModal.get((function(e,t){if(!e)return!1;var a;r.confirmLoading=!0,r.modal.properties=t,a=r.modal.resourceId?Object(s["c"])(r.url.update,r.modal):Object(s["b"])(r.url.add,r.modal),a.then((function(e){200===e.code?(r.$message.success("保存成功"),r.$emit("ok")):r.$message.error("保存失败")})).finally((function(){r.confirmLoading=!1,r.onClose()}))}))}))},filterOption:function(e,r){return!!r.componentOptions.children[0].text&&r.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},testDriver:function(){var e=this;this.modal.properties=this.$refs.PropertiesModal.get(),Object(s["b"])(this.url.test,this.modal).then((function(r){200===r.code&&!0===r.data?e.$message.success("连接成功"):e.$message.error("连接失败")}))}}},ue=ce,me=Object(d["a"])(ue,i,p,!1,null,"2967ac80",null),de=me.exports,fe={name:"ResourceList",components:{ResourceModel:de},data:function(){return{loading:!0,data:[],queryParam:{},url:{list:"/api/resource/list",remove:"/api/resource/remove",update:"/api/resource/update"},resourceTypeMap:n["c"]}},mounted:function(){this.loadData()},methods:{getDetails:function(e){return Object(n["a"])(e,"resource")},handleAdd:function(){this.$refs.ResourceModel.add()},handleEdit:function(e){this.$refs.ResourceModel.edit(e)},loadData:function(){var e=this;this.loading=!0,Object(s["b"])(this.url.list,this.queryParam).then((function(r){e.data=r.data,e.loading=!1}))},handleDelete:function(e){var r=this;Object(s["b"])(this.url.remove,e).then((function(e){200===e.code?(r.$message.success("删除成功"),r.loadData()):r.$message.info(e.message)}))},reset:function(){this.queryParam={},this.loadData()}}},be=fe,ve=Object(d["a"])(be,a,o,!1,null,null,null);r["default"]=ve.exports}}]);