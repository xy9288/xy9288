(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-342df409"],{"56fc":function(t,e,r){"use strict";r.d(e,"d",(function(){return s})),r.d(e,"c",(function(){return d})),r.d(e,"b",(function(){return p})),r.d(e,"a",(function(){return l}));var n=r("b85c"),o=(r("99af"),r("b0c0"),r("995a")),a={CHANNEL:"消息通道",PROTOCOL:"通讯协议",DATABASE:"数据存储"},i={MQTT:{name:"MQTT Broker",type:"all",group:"CHANNEL",details:{resource:{name:"地址",format:function(t){return t.properties.url}},rule:[{name:"地址",format:function(t){return t.properties.url}},{name:"Topic",format:function(t){return t.properties.topic}}]}},TCP:{name:"TCP",type:"source",group:"PROTOCOL",details:{resource:{name:"监听地址",format:function(t){return"0.0.0.0:".concat(t.properties.port)}},rule:[{name:"监听地址",format:function(t){return"0.0.0.0:".concat(t.properties.port)}},{name:"响应内容",format:function(t){return t.properties.response?"".concat(t.properties.response):void 0}}]}},UDP:{name:"UDP",type:"source",group:"PROTOCOL",details:{resource:{name:"监听地址",format:function(t){return"0.0.0.0:".concat(t.properties.port)}},rule:[{name:"监听地址",format:function(t){return"0.0.0.0:".concat(t.properties.port)}},{name:"响应内容",format:function(t){return t.properties.response?"".concat(t.properties.response):void 0}}]}},SNMP:{name:"SNMP",type:"source",group:"PROTOCOL",details:{resource:{name:"地址",format:function(t){return"udp:".concat(t.properties.ip,"/").concat(t.properties.port)}},rule:[{name:"地址",format:function(t){return"udp:".concat(t.properties.ip,"/").concat(t.properties.port)}},{name:"读取点位",format:function(t){return"".concat(t.properties.points?t.properties.points.length:0)}},{name:"启动延迟",format:function(t){return t.properties.initialDelay?"".concat(t.properties.initialDelay).concat(o["b"][t.properties.timeUnit]):void 0}},{name:"读取频率",format:function(t){return t.properties.period?"".concat(t.properties.period).concat(o["b"][t.properties.timeUnit]):void 0}}]}},KAFKA:{name:"Kafka",type:"all",group:"CHANNEL",details:{resource:{name:"地址",format:function(t){return"".concat(t.properties.url)}},rule:[{name:"地址",format:function(t){return"".concat(t.properties.url)}},{name:"Topic",format:function(t){return t.properties.topic}}]}},RABBITMQ:{name:"RabbitMQ",type:"all",group:"CHANNEL",details:{resource:{name:"地址",format:function(t){return"".concat(t.properties.ip,":").concat(t.properties.port)}},rule:[{name:"地址",format:function(t){return"".concat(t.properties.ip,":").concat(t.properties.port)}},{name:"虚拟主机",format:function(t){return t.properties.virtualHost}},{name:"交换机",format:function(t){return t.properties.exchange}},{name:"队列",format:function(t){return t.properties.queue}}]}},MYSQL:{name:"MySQL",type:"all",group:"DATABASE",details:{resource:{name:"地址",format:function(t){return"".concat(t.properties.ip,":").concat(t.properties.port,"/").concat(t.properties.databaseName)}},rule:[{name:"地址",format:function(t){return"".concat(t.properties.ip,":").concat(t.properties.port,"/").concat(t.properties.databaseName)}},{name:"SQL模板",format:function(t){return t.properties.sql}},{name:"启动延迟",format:function(t){return t.properties.initialDelay?"".concat(t.properties.initialDelay).concat(o["b"][t.properties.timeUnit]):void 0}},{name:"查询频率",format:function(t){return t.properties.period?"".concat(t.properties.period).concat(o["b"][t.properties.timeUnit]):void 0}}]}},MARIADB:{name:"MariaDB",type:"all",group:"DATABASE",details:{resource:{name:"地址",format:function(t){return"".concat(t.properties.ip,":").concat(t.properties.port,"/").concat(t.properties.databaseName)}},rule:[{name:"地址",format:function(t){return"".concat(t.properties.ip,":").concat(t.properties.port,"/").concat(t.properties.databaseName)}},{name:"SQL模板",format:function(t){return t.properties.sql}},{name:"启动延迟",format:function(t){return t.properties.initialDelay?"".concat(t.properties.initialDelay).concat(o["b"][t.properties.timeUnit]):void 0}},{name:"查询频率",format:function(t){return t.properties.period?"".concat(t.properties.period).concat(o["b"][t.properties.timeUnit]):void 0}}]}},POSTGRESQL:{name:"PostgreSQL",type:"all",group:"DATABASE",details:{resource:{name:"地址",format:function(t){return"".concat(t.properties.ip,":").concat(t.properties.port,"/").concat(t.properties.databaseName)}},rule:[{name:"地址",format:function(t){return"".concat(t.properties.ip,":").concat(t.properties.port,"/").concat(t.properties.databaseName)}},{name:"SQL模板",format:function(t){return t.properties.sql}},{name:"启动延迟",format:function(t){return t.properties.initialDelay?"".concat(t.properties.initialDelay).concat(o["b"][t.properties.timeUnit]):void 0}},{name:"查询频率",format:function(t){return t.properties.period?"".concat(t.properties.period).concat(o["b"][t.properties.timeUnit]):void 0}}]}},TIMESCALEDB:{name:"TimescaleDB",type:"all",group:"DATABASE",details:{resource:{name:"地址",format:function(t){return"".concat(t.properties.ip,":").concat(t.properties.port,"/").concat(t.properties.databaseName)}},rule:[{name:"地址",format:function(t){return"".concat(t.properties.ip,":").concat(t.properties.port,"/").concat(t.properties.databaseName)}},{name:"SQL模板",format:function(t){return t.properties.sql}},{name:"启动延迟",format:function(t){return t.properties.initialDelay?"".concat(t.properties.initialDelay).concat(o["b"][t.properties.timeUnit]):void 0}},{name:"查询频率",format:function(t){return t.properties.period?"".concat(t.properties.period).concat(o["b"][t.properties.timeUnit]):void 0}}]}},SQLSERVER:{name:"SQL Server",type:"all",group:"DATABASE",details:{resource:{name:"地址",format:function(t){return"".concat(t.properties.ip,":").concat(t.properties.port,"/").concat(t.properties.databaseName)}},rule:[{name:"地址",format:function(t){return"".concat(t.properties.ip,":").concat(t.properties.port,"/").concat(t.properties.databaseName)}},{name:"SQL模板",format:function(t){return t.properties.sql}},{name:"启动延迟",format:function(t){return t.properties.initialDelay?"".concat(t.properties.initialDelay).concat(o["b"][t.properties.timeUnit]):void 0}},{name:"查询频率",format:function(t){return t.properties.period?"".concat(t.properties.period).concat(o["b"][t.properties.timeUnit]):void 0}}]}},TDENGINE:{name:"TDengine",type:"all",group:"DATABASE",details:{resource:{name:"地址",format:function(t){return"".concat(t.properties.ip,":").concat(t.properties.port,"/").concat(t.properties.databaseName)}},rule:[{name:"地址",format:function(t){return"".concat(t.properties.ip,":").concat(t.properties.port,"/").concat(t.properties.databaseName)}},{name:"SQL模板",format:function(t){return t.properties.sql}},{name:"启动延迟",format:function(t){return t.properties.initialDelay?"".concat(t.properties.initialDelay).concat(o["b"][t.properties.timeUnit]):void 0}},{name:"查询频率",format:function(t){return t.properties.period?"".concat(t.properties.period).concat(o["b"][t.properties.timeUnit]):void 0}}]}},HTTPCLIENT:{name:"HTTP Client",type:"all",group:"PROTOCOL",details:{resource:{name:"地址",format:function(t){return"".concat(t.properties.url)}},rule:[{name:"请求路径",format:function(t){return"".concat(t.properties.url).concat(t.properties.path)}},{name:"请求方式",format:function(t){return"".concat(t.properties.method)}},{name:"启动延迟",format:function(t){return t.properties.initialDelay?"".concat(t.properties.initialDelay).concat(o["b"][t.properties.timeUnit]):void 0}},{name:"调用频率",format:function(t){return t.properties.period?"".concat(t.properties.period).concat(o["b"][t.properties.timeUnit]):void 0}}]}},HTTPSERVER:{name:"HTTP Server",type:"source",group:"PROTOCOL",details:{resource:{name:"监听地址",format:function(t){return"http://0.0.0.0:".concat(t.properties.port).concat(t.properties.path)}},rule:[{name:"监听地址",format:function(t){return"http://0.0.0.0:".concat(t.properties.port).concat(t.properties.path)}},{name:"响应内容",format:function(t){return t.properties.response?"".concat(t.properties.response):void 0}}]}},OPCUA:{name:"OPC UA",type:"source",group:"PROTOCOL",details:{resource:{name:"地址",format:function(t){return"".concat(t.properties.ip,":").concat(t.properties.port)}},rule:[{name:"地址",format:function(t){return"".concat(t.properties.ip,":").concat(t.properties.port)}},{name:"读取点位",format:function(t){return"".concat(t.properties.points?t.properties.points.length:0)}},{name:"启动延迟",format:function(t){return t.properties.initialDelay?"".concat(t.properties.initialDelay).concat(o["b"][t.properties.timeUnit]):void 0}},{name:"读取频率",format:function(t){return t.properties.period?"".concat(t.properties.period).concat(o["b"][t.properties.timeUnit]):void 0}}]}},MODBUSTCP:{name:"Modbus TCP",type:"source",group:"PROTOCOL",details:{resource:{name:"地址",format:function(t){return"".concat(t.properties.ip,":").concat(t.properties.port)}},rule:[{name:"地址",format:function(t){return"".concat(t.properties.ip,":").concat(t.properties.port)}},{name:"读取点位",format:function(t){return"".concat(t.properties.points?t.properties.points.length:0)}},{name:"启动延迟",format:function(t){return t.properties.initialDelay?"".concat(t.properties.initialDelay).concat(o["b"][t.properties.timeUnit]):void 0}},{name:"读取频率",format:function(t){return t.properties.period?"".concat(t.properties.period).concat(o["b"][t.properties.timeUnit]):void 0}}]}},REDIS:{name:"Redis",type:"all",group:"DATABASE",details:{resource:{name:"地址",format:function(t){return"STANDALONE"===t.properties.mode?"".concat(t.properties.ip,":").concat(t.properties.port):"".concat(t.properties.nodes)}},rule:[{name:"地址",format:function(t){return"STANDALONE"===t.properties.mode?"".concat(t.properties.ip,":").concat(t.properties.port):"".concat(t.properties.nodes)}},{name:"执行命令",format:function(t){return"".concat(t.properties.command)}},{name:"启动延迟",format:function(t){return t.properties.initialDelay?"".concat(t.properties.initialDelay).concat(o["b"][t.properties.timeUnit]):void 0}},{name:"执行频率",format:function(t){return t.properties.period?"".concat(t.properties.period).concat(o["b"][t.properties.timeUnit]):void 0}}]}}};function c(){var t={};for(var e in i)t[e]=i[e].name;return t}var s=c();function p(t){var e=[];for(var r in a){var n=u(t,r);n&&0!==n.length&&e.push({group:a[r],list:n})}return e}function u(t,e){var r=[];for(var n in i){var o=i[n];if((!t||o.type===t||"all"===o.type)&&(!e||o.group===e)){var a={name:o.name,type:o.type,code:n};r.push(a)}}return r}var d=p(void 0);function l(t,e){if(!t||!t.resourceType)return"resource"===e?{name:"",value:""}:[{name:"",value:""}];var r=i[t.resourceType],o=r.details[e];if("resource"===e){var a=o.format(t);return a?{name:o.name,value:a}:{name:"",value:""}}var c,s=[],p=Object(n["a"])(o);try{for(p.s();!(c=p.n()).done;){var u=c.value,d=u.format(t);d&&s.push({name:u.name,value:d})}}catch(l){p.e(l)}finally{p.f()}return s}},"995a":function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"a",(function(){return a}));var n={SECONDS:"秒",MINUTES:"分",HOURS:"时",DAYS:"天"};function o(){var t=[];for(var e in n)t.push({name:n[e],value:e});return t}var a=o()},dfd5:function(t,e,r){"use strict";var n=function(){var t=this,e=t._self._c;return e("a-modal",{attrs:{title:"点位配置",width:650},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[e("template",{slot:"footer"},[e("a-button",{key:"back",on:{click:t.handleClose}},[t._v("关闭")]),e("a-button",{directives:[{name:"show",rawName:"v-show",value:!t.disableEdit,expression:"!disableEdit"}],key:"submit",attrs:{type:"primary"},on:{click:t.handleOk}},[t._v("保存")])],1),"OPCUA"===t.resourceType?e("opc-points-model",{ref:"PointModel",attrs:{"disable-edit":t.disableEdit}}):t._e(),"SNMP"===t.resourceType?e("snmp-points-model",{ref:"PointModel",attrs:{"disable-edit":t.disableEdit}}):t._e(),"MODBUSTCP"===t.resourceType?e("modbus-tcp-points-model",{ref:"PointModel",attrs:{"disable-edit":t.disableEdit}}):t._e()],2)},o=[],a=function(){var t=this,e=t._self._c;return e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.disableEdit,expression:"!disableEdit"}],staticStyle:{width:"100%","padding-bottom":"10px"}},[e("a-button",{attrs:{type:"primary"},on:{click:t.newItem}},[t._v("添加")])],1),e("a-table",{staticStyle:{border:"1px #e8e3e3 solid"},attrs:{columns:t.columns,dataSource:t.data,pagination:!1,loading:t.loading,size:"small"},scopedSlots:t._u([t._l(["tag","address"],(function(r,n){return{key:r,fn:function(o,a){return[a.editable?e("a-input",{key:r,staticStyle:{margin:"-5px 0"},attrs:{value:o,placeholder:t.columns[n].title},on:{change:function(e){return t.handleChange(e.target.value,a.key,r)}}}):[t._v(t._s(o))]]}}})),{key:"action",fn:function(r,n){return[n.editable?[n.isNew?e("span",[e("a",{on:{click:function(e){return t.saveRow(n)}}},[t._v("确定")]),e("a-divider",{attrs:{type:"vertical"}}),e("a-popconfirm",{attrs:{title:"删除此点位？"},on:{confirm:function(e){return t.remove(n.key)}}},[e("a",[t._v("删除")])])],1):e("span",[e("a",{on:{click:function(e){return t.saveRow(n)}}},[t._v("保存")]),e("a-divider",{attrs:{type:"vertical"}}),e("a",{on:{click:function(e){return t.cancel(n.key)}}},[t._v("取消")])],1)]:e("span",[e("a",{on:{click:function(e){return t.toggle(n.key)}}},[t._v("编辑")]),e("a-divider",{attrs:{type:"vertical"}}),e("a-popconfirm",{attrs:{title:"删除此点位？"},on:{confirm:function(e){return t.remove(n.key)}}},[e("a",[t._v("删除")])])],1)]}}],null,!0)})],1)},i=[],c=r("2909"),s=r("5530"),p=r("b85c"),u=(r("d3b7"),r("25f0"),r("4de4"),r("7db0"),r("159b"),r("b64b"),{name:"OpcPointsModel",props:{disableEdit:{type:Boolean,default:!1}},data:function(){return{loading:!1,data:[],columns:[{title:"标签",dataIndex:"tag",key:"tag",width:"30%",scopedSlots:{customRender:"tag"}},{title:"地址",dataIndex:"address",key:"address",width:"50%",scopedSlots:{customRender:"address"}}]}},mounted:function(){this.disableEdit||this.columns.push({title:"操作",key:"action",scopedSlots:{customRender:"action"}})},methods:{set:function(t){if(this.data=[],t){var e,r=1,n=Object(p["a"])(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;this.data.push({key:r++,tag:o.tag,address:o.address,editable:!1,isNew:!1})}}catch(a){n.e(a)}finally{n.f()}}},get:function(){var t,e=[],r=Object(p["a"])(this.data);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.isNew||e.push({tag:n.tag,address:n.address})}}catch(o){r.e(o)}finally{r.f()}return e},newItem:function(){var t=this.data.length;this.data.push({key:0===t?"1":(parseInt(this.data[t-1].key)+1).toString(),tag:"",address:"",editable:!0,isNew:!0})},remove:function(t){this.data=this.data.filter((function(e){return e.key!==t}))},saveRow:function(t){this.loading=!0;var e=t.key,r=t.tag,n=t.address;if(!r||!n)return this.loading=!1,void this.$message.error("填写不完整");var o=this.data.find((function(t){return t.key===e}));o.editable=!1,o.isNew=!1,this.loading=!1},toggle:function(t){var e=this.data.find((function(e){return e.key===t}));e._originalData=Object(s["a"])({},e),e.editable=!e.editable},cancel:function(t){var e=this.data.find((function(e){return e.key===t}));Object.keys(e).forEach((function(t){e[t]=e._originalData[t]})),e._originalData=void 0},handleChange:function(t,e,r){var n=Object(c["a"])(this.data),o=n.find((function(t){return e===t.key}));o&&(o[r]=t,this.data=n)}}}),d=u,l=r("2877"),f=Object(l["a"])(d,a,i,!1,null,null,null),m=f.exports,v=function(){var t=this,e=t._self._c;return e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.disableEdit,expression:"!disableEdit"}],staticStyle:{width:"100%","padding-bottom":"10px"}},[e("a-button",{attrs:{type:"primary"},on:{click:t.newItem}},[t._v("添加")])],1),e("a-table",{staticStyle:{border:"1px #e8e3e3 solid"},attrs:{columns:t.columns,dataSource:t.data,pagination:!1,loading:t.loading,size:"small"},scopedSlots:t._u([t._l(["oid","type"],(function(r,n){return{key:r,fn:function(o,a){return[a.editable?e("a-input",{key:r,staticStyle:{margin:"-5px 0"},attrs:{value:o,placeholder:t.columns[n].title},on:{change:function(e){return t.handleChange(e.target.value,a.key,r)}}}):[t._v(t._s(o))]]}}})),{key:"action",fn:function(r,n){return[n.editable?[n.isNew?e("span",[e("a",{on:{click:function(e){return t.saveRow(n)}}},[t._v("确定")]),e("a-divider",{attrs:{type:"vertical"}}),e("a-popconfirm",{attrs:{title:"删除此点位？"},on:{confirm:function(e){return t.remove(n.key)}}},[e("a",[t._v("删除")])])],1):e("span",[e("a",{on:{click:function(e){return t.saveRow(n)}}},[t._v("保存")]),e("a-divider",{attrs:{type:"vertical"}}),e("a",{on:{click:function(e){return t.cancel(n.key)}}},[t._v("取消")])],1)]:e("span",[e("a",{on:{click:function(e){return t.toggle(n.key)}}},[t._v("编辑")]),e("a-divider",{attrs:{type:"vertical"}}),e("a-popconfirm",{attrs:{title:"删除此点位？"},on:{confirm:function(e){return t.remove(n.key)}}},[e("a",[t._v("删除")])])],1)]}}],null,!0)})],1)},y=[],h={name:"OpcPointsModel",props:{disableEdit:{type:Boolean,default:!1}},data:function(){return{loading:!1,data:[],columns:[{title:"OID",dataIndex:"oid",key:"oid",width:"40%",scopedSlots:{customRender:"oid"}},{title:"读取方式(GET/WALK)",dataIndex:"type",key:"type",width:"40%",scopedSlots:{customRender:"type"}}]}},mounted:function(){this.disableEdit||this.columns.push({title:"操作",key:"action",scopedSlots:{customRender:"action"}})},methods:{set:function(t){if(this.data=[],t){var e,r=1,n=Object(p["a"])(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;this.data.push({key:r++,oid:o.oid,type:o.type,editable:!1,isNew:!1})}}catch(a){n.e(a)}finally{n.f()}}},get:function(){var t,e=[],r=Object(p["a"])(this.data);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.isNew||e.push({oid:n.oid,type:n.type})}}catch(o){r.e(o)}finally{r.f()}return e},newItem:function(){var t=this.data.length;this.data.push({key:0===t?"1":(parseInt(this.data[t-1].key)+1).toString(),oid:"",type:"GET",editable:!0,isNew:!0})},remove:function(t){this.data=this.data.filter((function(e){return e.key!==t}))},saveRow:function(t){this.loading=!0;var e=t.key,r=t.oid,n=t.type;if(!r||!n)return this.loading=!1,void this.$message.error("填写不完整");if("GET"!==n&&"WALK"!==n)return this.loading=!1,void this.$message.error("读取方式必须是GET或WALK");var o=this.data.find((function(t){return t.key===e}));o.editable=!1,o.isNew=!1,this.loading=!1},toggle:function(t){var e=this.data.find((function(e){return e.key===t}));e._originalData=Object(s["a"])({},e),e.editable=!e.editable},cancel:function(t){var e=this.data.find((function(e){return e.key===t}));Object.keys(e).forEach((function(t){e[t]=e._originalData[t]})),e._originalData=void 0},handleChange:function(t,e,r){var n=Object(c["a"])(this.data),o=n.find((function(t){return e===t.key}));o&&(o[r]=t,this.data=n)}}},b=h,g=Object(l["a"])(b,v,y,!1,null,null,null),k=g.exports,S=function(){var t=this,e=t._self._c;return e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.disableEdit,expression:"!disableEdit"}],staticStyle:{width:"100%","padding-bottom":"10px"}},[e("a-button",{attrs:{type:"primary"},on:{click:t.newItem}},[t._v("添加")])],1),e("a-table",{staticStyle:{border:"1px #e8e3e3 solid"},attrs:{columns:t.columns,dataSource:t.data,pagination:!1,loading:t.loading,size:"small"},scopedSlots:t._u([t._l(["tag","func","address","type"],(function(r,n){return{key:r,fn:function(o,a){return[a.editable?e("a-input",{key:r,staticStyle:{margin:"-5px 0"},attrs:{value:o,placeholder:t.columns[n].title},on:{change:function(e){return t.handleChange(e.target.value,a.key,r)}}}):[t._v(t._s(o))]]}}})),{key:"action",fn:function(r,n){return[n.editable?[n.isNew?e("span",[e("a",{on:{click:function(e){return t.saveRow(n)}}},[t._v("确定")]),e("a-divider",{attrs:{type:"vertical"}}),e("a-popconfirm",{attrs:{title:"删除此点位？"},on:{confirm:function(e){return t.remove(n.key)}}},[e("a",[t._v("删除")])])],1):e("span",[e("a",{on:{click:function(e){return t.saveRow(n)}}},[t._v("保存")]),e("a-divider",{attrs:{type:"vertical"}}),e("a",{on:{click:function(e){return t.cancel(n.key)}}},[t._v("取消")])],1)]:e("span",[e("a",{on:{click:function(e){return t.toggle(n.key)}}},[t._v("编辑")]),e("a-divider",{attrs:{type:"vertical"}}),e("a-popconfirm",{attrs:{title:"删除此点位？"},on:{confirm:function(e){return t.remove(n.key)}}},[e("a",[t._v("删除")])])],1)]}}],null,!0)})],1)},T=[],O={name:"OpcPointsModel",props:{disableEdit:{type:Boolean,default:!1}},data:function(){return{loading:!1,data:[],columns:[{title:"标签",dataIndex:"tag",key:"tag",width:"20%",scopedSlots:{customRender:"tag"}},{title:"功能",dataIndex:"func",key:"func",width:"20%",scopedSlots:{customRender:"func"}},{title:"地址",dataIndex:"address",key:"address",width:"20%",scopedSlots:{customRender:"address"}},{title:"数据类型",dataIndex:"type",key:"type",width:"20%",scopedSlots:{customRender:"type"}}]}},mounted:function(){this.disableEdit||this.columns.push({title:"操作",key:"action",scopedSlots:{customRender:"action"}})},methods:{set:function(t){if(this.data=[],t){var e,r=1,n=Object(p["a"])(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;this.data.push({key:r++,tag:o.tag,func:o.func,address:o.address,type:o.type,editable:!1,isNew:!1})}}catch(a){n.e(a)}finally{n.f()}}},get:function(){var t,e=[],r=Object(p["a"])(this.data);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.isNew||e.push({tag:n.tag,func:n.func,address:n.address,type:n.type})}}catch(o){r.e(o)}finally{r.f()}return e},newItem:function(){var t=this.data.length;this.data.push({key:0===t?"1":(parseInt(this.data[t-1].key)+1).toString(),tag:"",func:"holding-register",address:"1",type:"INT",editable:!0,isNew:!0})},remove:function(t){this.data=this.data.filter((function(e){return e.key!==t}))},saveRow:function(t){this.loading=!0;var e=t.key,r=t.tag,n=t.func,o=t.address,a=t.type;if(!r||!n||!o||!a)return this.loading=!1,void this.$message.error("填写不完整");var i=this.data.find((function(t){return t.key===e}));i.editable=!1,i.isNew=!1,this.loading=!1},toggle:function(t){var e=this.data.find((function(e){return e.key===t}));e._originalData=Object(s["a"])({},e),e.editable=!e.editable},cancel:function(t){var e=this.data.find((function(e){return e.key===t}));Object.keys(e).forEach((function(t){e[t]=e._originalData[t]})),e._originalData=void 0},handleChange:function(t,e,r){var n=Object(c["a"])(this.data),o=n.find((function(t){return e===t.key}));o&&(o[r]=t,this.data=n)}}},w=O,D=Object(l["a"])(w,S,T,!1,null,null,null),_=D.exports,E={name:"PointsConfigModel",components:{OpcPointsModel:m,SnmpPointsModel:k,ModbusTcpPointsModel:_},data:function(){return{visible:!1,resourceType:null,resourceMode:null,resourceIndex:-1,disableEdit:!1}},methods:{show:function(t,e){var r=this;this.resourceType=t,this.$nextTick((function(){r.$refs.PointModel.set(e)})),this.disableEdit=!0,this.visible=!0},config:function(t,e,r,n){var o=this;this.resourceType=t,this.resourceMode=e,this.resourceIndex=r,this.$nextTick((function(){o.$refs.PointModel.set(n)})),this.disableEdit=!1,this.visible=!0},handleOk:function(){this.$emit("update",this.resourceMode,this.resourceIndex,this.$refs.PointModel.get()),this.handleClose()},handleClose:function(){this.visible=!1,this.resourceType=null,this.resourceMode=null,this.resourceIndex=-1}}},N=E,A=Object(l["a"])(N,n,o,!1,null,"5f4531fc",null);e["a"]=A.exports},f20e:function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"a",(function(){return a}));var n={WITHOUT:"透传",SQL:"SQL转换",SCRIPT:"脚本转换",PLUGIN:"插件转换"};function o(){var t=[];for(var e in n)t.push({name:n[e],value:e});return t}var a=o()}}]);