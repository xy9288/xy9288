(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-342df409"],{"56fc":function(e,t,r){"use strict";r.d(t,"d",(function(){return p})),r.d(t,"c",(function(){return l})),r.d(t,"b",(function(){return u})),r.d(t,"a",(function(){return d}));var n=r("b85c"),o=(r("99af"),r("b0c0"),r("995a")),i="all",a="source",c={MQTT:{name:"MQTT Broker",type:i,details:{resource:{name:"资源地址",format:function(e){return e.properties.url}},rule:[{name:"资源地址",format:function(e){return e.properties.url}},{name:"Topic",format:function(e){return e.properties.topic}}]}},TCP:{name:"TCP",type:a,details:{resource:{name:"监听地址",format:function(e){return":".concat(e.properties.port)}},rule:[{name:"监听地址",format:function(e){return":".concat(e.properties.port)}},{name:"响应内容",format:function(e){return e.properties.response?"".concat(e.properties.response):void 0}}]}},UDP:{name:"UDP",type:a,details:{resource:{name:"监听地址",format:function(e){return":".concat(e.properties.port)}},rule:[{name:"监听地址",format:function(e){return":".concat(e.properties.port)}},{name:"响应内容",format:function(e){return e.properties.response?"".concat(e.properties.response):void 0}}]}},SNMP:{name:"SNMP",type:a,details:{resource:{name:"资源地址",format:function(e){return"udp:".concat(e.properties.ip,"/").concat(e.properties.port)}},rule:[{name:"资源地址",format:function(e){return"udp:".concat(e.properties.ip,"/").concat(e.properties.port)}},{name:"读取点位",format:function(e){return"".concat(e.properties.points?e.properties.points.length:0)}},{name:"启动延迟",format:function(e){return e.properties.initialDelay?"".concat(e.properties.initialDelay).concat(o["b"][e.properties.timeUnit]):void 0}},{name:"读取频率",format:function(e){return e.properties.period?"".concat(e.properties.period).concat(o["b"][e.properties.timeUnit]):void 0}}]}},KAFKA:{name:"Kafka",type:i,details:{resource:{name:"资源地址",format:function(e){return"".concat(e.properties.url)}},rule:[{name:"资源地址",format:function(e){return"".concat(e.properties.url)}},{name:"Topic",format:function(e){return e.properties.topic}}]}},RABBITMQ:{name:"RabbitMQ",type:i,details:{resource:{name:"资源地址",format:function(e){return"".concat(e.properties.ip,":").concat(e.properties.port)}},rule:[{name:"资源地址",format:function(e){return"".concat(e.properties.ip,":").concat(e.properties.port)}},{name:"虚拟主机",format:function(e){return e.properties.virtualHost}},{name:"交换机",format:function(e){return e.properties.exchange}},{name:"队列",format:function(e){return e.properties.queue}}]}},MYSQL:{name:"MySQL",type:i,details:{resource:{name:"资源地址",format:function(e){return"".concat(e.properties.ip,":").concat(e.properties.port,"/").concat(e.properties.databaseName)}},rule:[{name:"资源地址",format:function(e){return"".concat(e.properties.ip,":").concat(e.properties.port,"/").concat(e.properties.databaseName)}},{name:"SQL模板",format:function(e){return e.properties.sql}},{name:"启动延迟",format:function(e){return e.properties.initialDelay?"".concat(e.properties.initialDelay).concat(o["b"][e.properties.timeUnit]):void 0}},{name:"查询频率",format:function(e){return e.properties.period?"".concat(e.properties.period).concat(o["b"][e.properties.timeUnit]):void 0}}]}},POSTGRESQL:{name:"PostgreSQL",type:i,details:{resource:{name:"资源地址",format:function(e){return"".concat(e.properties.ip,":").concat(e.properties.port,"/").concat(e.properties.databaseName)}},rule:[{name:"资源地址",format:function(e){return"".concat(e.properties.ip,":").concat(e.properties.port,"/").concat(e.properties.databaseName)}},{name:"SQL模板",format:function(e){return e.properties.sql}},{name:"启动延迟",format:function(e){return e.properties.initialDelay?"".concat(e.properties.initialDelay).concat(o["b"][e.properties.timeUnit]):void 0}},{name:"查询频率",format:function(e){return e.properties.period?"".concat(e.properties.period).concat(o["b"][e.properties.timeUnit]):void 0}}]}},SQLSERVER:{name:"SQL Server",type:i,details:{resource:{name:"资源地址",format:function(e){return"".concat(e.properties.ip,":").concat(e.properties.port,"/").concat(e.properties.databaseName)}},rule:[{name:"资源地址",format:function(e){return"".concat(e.properties.ip,":").concat(e.properties.port,"/").concat(e.properties.databaseName)}},{name:"SQL模板",format:function(e){return e.properties.sql}},{name:"启动延迟",format:function(e){return e.properties.initialDelay?"".concat(e.properties.initialDelay).concat(o["b"][e.properties.timeUnit]):void 0}},{name:"查询频率",format:function(e){return e.properties.period?"".concat(e.properties.period).concat(o["b"][e.properties.timeUnit]):void 0}}]}},TDENGINE:{name:"TDengine",type:i,details:{resource:{name:"资源地址",format:function(e){return"".concat(e.properties.ip,":").concat(e.properties.port,"/").concat(e.properties.databaseName)}},rule:[{name:"资源地址",format:function(e){return"".concat(e.properties.ip,":").concat(e.properties.port,"/").concat(e.properties.databaseName)}},{name:"SQL模板",format:function(e){return e.properties.sql}},{name:"启动延迟",format:function(e){return e.properties.initialDelay?"".concat(e.properties.initialDelay).concat(o["b"][e.properties.timeUnit]):void 0}},{name:"查询频率",format:function(e){return e.properties.period?"".concat(e.properties.period).concat(o["b"][e.properties.timeUnit]):void 0}}]}},HTTPCLIENT:{name:"HTTP Client",type:i,details:{resource:{name:"资源地址",format:function(e){return"".concat(e.properties.url)}},rule:[{name:"请求路径",format:function(e){return"".concat(e.properties.url).concat(e.properties.path)}},{name:"请求方式",format:function(e){return"".concat(e.properties.method)}},{name:"启动延迟",format:function(e){return e.properties.initialDelay?"".concat(e.properties.initialDelay).concat(o["b"][e.properties.timeUnit]):void 0}},{name:"调用频率",format:function(e){return e.properties.period?"".concat(e.properties.period).concat(o["b"][e.properties.timeUnit]):void 0}}]}},HTTPSERVER:{name:"HTTP Server",type:a,details:{resource:{name:"监听地址",format:function(e){return":".concat(e.properties.port).concat(e.properties.path)}},rule:[{name:"监听地址",format:function(e){return":".concat(e.properties.port).concat(e.properties.path)}},{name:"响应内容",format:function(e){return e.properties.response?"".concat(e.properties.response):void 0}}]}},OPCUA:{name:"OPC UA",type:a,details:{resource:{name:"资源地址",format:function(e){return"".concat(e.properties.url)}},rule:[{name:"资源地址",format:function(e){return"".concat(e.properties.url)}},{name:"读取点位",format:function(e){return"".concat(e.properties.points?e.properties.points.length:0)}},{name:"启动延迟",format:function(e){return e.properties.initialDelay?"".concat(e.properties.initialDelay).concat(o["b"][e.properties.timeUnit]):void 0}},{name:"读取频率",format:function(e){return e.properties.period?"".concat(e.properties.period).concat(o["b"][e.properties.timeUnit]):void 0}}]}},REDIS:{name:"Redis",type:i,details:{resource:{name:"资源地址",format:function(e){return"STANDALONE"===e.properties.mode?"".concat(e.properties.ip,":").concat(e.properties.port):"".concat(e.properties.nodes)}},rule:[{name:"资源地址",format:function(e){return"STANDALONE"===e.properties.mode?"".concat(e.properties.ip,":").concat(e.properties.port):"".concat(e.properties.nodes)}},{name:"执行命令",format:function(e){return"".concat(e.properties.command)}},{name:"启动延迟",format:function(e){return e.properties.initialDelay?"".concat(e.properties.initialDelay).concat(o["b"][e.properties.timeUnit]):void 0}},{name:"执行频率",format:function(e){return e.properties.period?"".concat(e.properties.period).concat(o["b"][e.properties.timeUnit]):void 0}}]}}};function s(){var e={};for(var t in c)e[t]=c[t].name;return e}var p=s();function u(e){var t=[];for(var r in c){var n=c[r].type;if(!e||n===i||n===e){var o={name:c[r].name,code:r,type:n};t.push(o)}}return t}var l=u();function d(e,t){if(!e||!e.resourceType)return"resource"===t?{name:"",value:""}:[{name:"",value:""}];var r=c[e.resourceType],o=r.details[t];if("resource"===t){var i=o.format(e);return i?{name:o.name,value:i}:{name:"",value:""}}var a,s=[],p=Object(n["a"])(o);try{for(p.s();!(a=p.n()).done;){var u=a.value,l=u.format(e);l&&s.push({name:u.name,value:l})}}catch(d){p.e(d)}finally{p.f()}return s}},"995a":function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i}));var n={SECONDS:"秒",MINUTES:"分",HOURS:"时",DAYS:"天"};function o(){var e=[];for(var t in n)e.push({name:n[t],value:t});return e}var i=o()},dfd5:function(e,t,r){"use strict";var n=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{title:"点位配置",width:650},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[t("template",{slot:"footer"},[t("a-button",{key:"back",on:{click:e.handleClose}},[e._v("关闭")]),t("a-button",{directives:[{name:"show",rawName:"v-show",value:!e.disableEdit,expression:"!disableEdit"}],key:"submit",attrs:{type:"primary"},on:{click:e.handleOk}},[e._v("保存")])],1),"OPCUA"===e.resourceType?t("opc-points-model",{ref:"PointModel",attrs:{"disable-edit":e.disableEdit}}):e._e(),"SNMP"===e.resourceType?t("snmp-points-model",{ref:"PointModel",attrs:{"disable-edit":e.disableEdit}}):e._e()],2)},o=[],i=function(){var e=this,t=e._self._c;return t("div",[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.disableEdit,expression:"!disableEdit"}],staticStyle:{width:"100%","padding-bottom":"10px"}},[t("a-button",{attrs:{type:"primary"},on:{click:e.newItem}},[e._v("添加")])],1),t("a-table",{staticStyle:{border:"1px #e8e3e3 solid"},attrs:{columns:e.columns,dataSource:e.data,pagination:!1,loading:e.loading,size:"small"},scopedSlots:e._u([e._l(["namespace","tag"],(function(r,n){return{key:r,fn:function(o,i){return[i.editable?t("a-input",{key:r,staticStyle:{margin:"-5px 0"},attrs:{value:o,placeholder:e.columns[n].title},on:{change:function(t){return e.handleChange(t.target.value,i.key,r)}}}):[e._v(e._s(o))]]}}})),{key:"action",fn:function(r,n){return[n.editable?[n.isNew?t("span",[t("a",{on:{click:function(t){return e.saveRow(n)}}},[e._v("确定")]),t("a-divider",{attrs:{type:"vertical"}}),t("a-popconfirm",{attrs:{title:"删除此点位？"},on:{confirm:function(t){return e.remove(n.key)}}},[t("a",[e._v("删除")])])],1):t("span",[t("a",{on:{click:function(t){return e.saveRow(n)}}},[e._v("保存")]),t("a-divider",{attrs:{type:"vertical"}}),t("a",{on:{click:function(t){return e.cancel(n.key)}}},[e._v("取消")])],1)]:t("span",[t("a",{on:{click:function(t){return e.toggle(n.key)}}},[e._v("编辑")]),t("a-divider",{attrs:{type:"vertical"}}),t("a-popconfirm",{attrs:{title:"删除此点位？"},on:{confirm:function(t){return e.remove(n.key)}}},[t("a",[e._v("删除")])])],1)]}}],null,!0)})],1)},a=[],c=r("2909"),s=r("5530"),p=r("b85c"),u=(r("d3b7"),r("25f0"),r("4de4"),r("7db0"),r("159b"),r("b64b"),{name:"OpcPointsModel",props:{disableEdit:{type:Boolean,default:!1}},data:function(){return{loading:!1,data:[],columns:[{title:"命名空间",dataIndex:"namespace",key:"namespace",width:"40%",scopedSlots:{customRender:"namespace"}},{title:"标识",dataIndex:"tag",key:"tag",width:"40%",scopedSlots:{customRender:"tag"}}]}},mounted:function(){this.disableEdit||this.columns.push({title:"操作",key:"action",scopedSlots:{customRender:"action"}})},methods:{set:function(e){if(this.data=[],e){var t,r=1,n=Object(p["a"])(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;this.data.push({key:r++,namespace:o.namespace,tag:o.tag,editable:!1,isNew:!1})}}catch(i){n.e(i)}finally{n.f()}}},get:function(){var e,t=[],r=Object(p["a"])(this.data);try{for(r.s();!(e=r.n()).done;){var n=e.value;n.isNew||t.push({namespace:n.namespace,tag:n.tag})}}catch(o){r.e(o)}finally{r.f()}return t},newItem:function(){var e=this.data.length;this.data.push({key:0===e?"1":(parseInt(this.data[e-1].key)+1).toString(),namespace:0,tag:"",editable:!0,isNew:!0})},remove:function(e){this.data=this.data.filter((function(t){return t.key!==e}))},saveRow:function(e){this.loading=!0;var t=e.key,r=e.namespace,n=e.tag;if(!r||!n)return this.loading=!1,void this.$message.error("填写不完整");var o=this.data.find((function(e){return e.key===t}));o.editable=!1,o.isNew=!1,this.loading=!1},toggle:function(e){var t=this.data.find((function(t){return t.key===e}));t._originalData=Object(s["a"])({},t),t.editable=!t.editable},cancel:function(e){var t=this.data.find((function(t){return t.key===e}));Object.keys(t).forEach((function(e){t[e]=t._originalData[e]})),t._originalData=void 0},handleChange:function(e,t,r){var n=Object(c["a"])(this.data),o=n.find((function(e){return t===e.key}));o&&(o[r]=e,this.data=n)}}}),l=u,d=r("2877"),f=Object(d["a"])(l,i,a,!1,null,null,null),m=f.exports,v=function(){var e=this,t=e._self._c;return t("div",[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.disableEdit,expression:"!disableEdit"}],staticStyle:{width:"100%","padding-bottom":"10px"}},[t("a-button",{attrs:{type:"primary"},on:{click:e.newItem}},[e._v("添加")])],1),t("a-table",{staticStyle:{border:"1px #e8e3e3 solid"},attrs:{columns:e.columns,dataSource:e.data,pagination:!1,loading:e.loading,size:"small"},scopedSlots:e._u([e._l(["oid","type"],(function(r,n){return{key:r,fn:function(o,i){return[i.editable?t("a-input",{key:r,staticStyle:{margin:"-5px 0"},attrs:{value:o,placeholder:e.columns[n].title},on:{change:function(t){return e.handleChange(t.target.value,i.key,r)}}}):[e._v(e._s(o))]]}}})),{key:"action",fn:function(r,n){return[n.editable?[n.isNew?t("span",[t("a",{on:{click:function(t){return e.saveRow(n)}}},[e._v("确定")]),t("a-divider",{attrs:{type:"vertical"}}),t("a-popconfirm",{attrs:{title:"删除此点位？"},on:{confirm:function(t){return e.remove(n.key)}}},[t("a",[e._v("删除")])])],1):t("span",[t("a",{on:{click:function(t){return e.saveRow(n)}}},[e._v("保存")]),t("a-divider",{attrs:{type:"vertical"}}),t("a",{on:{click:function(t){return e.cancel(n.key)}}},[e._v("取消")])],1)]:t("span",[t("a",{on:{click:function(t){return e.toggle(n.key)}}},[e._v("编辑")]),t("a-divider",{attrs:{type:"vertical"}}),t("a-popconfirm",{attrs:{title:"删除此点位？"},on:{confirm:function(t){return e.remove(n.key)}}},[t("a",[e._v("删除")])])],1)]}}],null,!0)})],1)},h=[],y={name:"OpcPointsModel",props:{disableEdit:{type:Boolean,default:!1}},data:function(){return{loading:!1,data:[],columns:[{title:"OID",dataIndex:"oid",key:"oid",width:"40%",scopedSlots:{customRender:"oid"}},{title:"读取方式(GET/WALK)",dataIndex:"type",key:"type",width:"40%",scopedSlots:{customRender:"type"}}]}},mounted:function(){this.disableEdit||this.columns.push({title:"操作",key:"action",scopedSlots:{customRender:"action"}})},methods:{set:function(e){if(this.data=[],e){var t,r=1,n=Object(p["a"])(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;this.data.push({key:r++,oid:o.oid,type:o.type,editable:!1,isNew:!1})}}catch(i){n.e(i)}finally{n.f()}}},get:function(){var e,t=[],r=Object(p["a"])(this.data);try{for(r.s();!(e=r.n()).done;){var n=e.value;n.isNew||t.push({oid:n.oid,type:n.type})}}catch(o){r.e(o)}finally{r.f()}return t},newItem:function(){var e=this.data.length;this.data.push({key:0===e?"1":(parseInt(this.data[e-1].key)+1).toString(),oid:"",type:"GET",editable:!0,isNew:!0})},remove:function(e){this.data=this.data.filter((function(t){return t.key!==e}))},saveRow:function(e){this.loading=!0;var t=e.key,r=e.oid,n=e.type;if(!r||!n)return this.loading=!1,void this.$message.error("填写不完整");if("GET"!==n&&"WALK"!==n)return this.loading=!1,void this.$message.error("读取方式必须是GET或WALK");var o=this.data.find((function(e){return e.key===t}));o.editable=!1,o.isNew=!1,this.loading=!1},toggle:function(e){var t=this.data.find((function(t){return t.key===e}));t._originalData=Object(s["a"])({},t),t.editable=!t.editable},cancel:function(e){var t=this.data.find((function(t){return t.key===e}));Object.keys(t).forEach((function(e){t[e]=t._originalData[e]})),t._originalData=void 0},handleChange:function(e,t,r){var n=Object(c["a"])(this.data),o=n.find((function(e){return t===e.key}));o&&(o[r]=e,this.data=n)}}},b=y,g=Object(d["a"])(b,v,h,!1,null,null,null),k=g.exports,S={name:"PointsConfigModel",components:{OpcPointsModel:m,SnmpPointsModel:k},data:function(){return{visible:!1,resourceType:null,resourceMode:null,resourceIndex:-1,disableEdit:!1}},methods:{show:function(e,t){var r=this;this.resourceType=e,this.$nextTick((function(){r.$refs.PointModel.set(t)})),this.disableEdit=!0,this.visible=!0},config:function(e,t,r,n){var o=this;this.resourceType=e,this.resourceMode=t,this.resourceIndex=r,this.$nextTick((function(){o.$refs.PointModel.set(n)})),this.disableEdit=!1,this.visible=!0},handleOk:function(){this.$emit("update",this.resourceMode,this.resourceIndex,this.$refs.PointModel.get()),this.handleClose()},handleClose:function(){this.visible=!1,this.resourceType=null,this.resourceMode=null,this.resourceIndex=-1}}},w=S,T=Object(d["a"])(w,n,o,!1,null,"8b254510",null);t["a"]=T.exports},f20e:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i}));var n={WITHOUT:"无转换透传",SCRIPT:"JS脚本转换",PLUGIN:"插件转换"};function o(){var e=[];for(var t in n)e.push({name:n[t],value:t});return e}var i=o()}}]);